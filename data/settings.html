<!DOCTYPE html>
<html>

<head>
  <title>Settings</title>
  <link rel="icon" href="favicon.ico">
  <link type="text/css" rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="content-type" charset="utf-8">

  <script type="text/javascript" src="jquery-3.5.1.min.js"></script>

  <script type="text/javascript">
    $(document).on('click', '#SUBMIT, #STA_MODE, #AP_MODE', function () {
      var url = "http://" + document.location.host + "/";

      var sID = $(this).attr('id');

      var JSONdata = {
        MODE: sID,
        SPERK_TIME: parseInt($('#SPERK_TIME').val()),
        RELEASE_TIME: parseInt($('#RELEASE_TIME').val())
      };

      console.log(JSONdata);

      $.ajax({
        type: "post",
        url: url,
        data: JSON.stringify(JSONdata),
        contentType: 'application/json',
        dataType: 'json',
        success: function (data) {
          //成功時処理
          console.log("success");
          window.location.href = url;
        },
        error: function (data) {
          //失敗時処理
          console.log("error");
          window.location.href = url;
        }
      });
    });
  </script>

</head>

<body id="body">
  <h1>Settings</h1>
  <hr>
  <table>
    <tr>
      <td>Sperking Time(ms)</td>
    </tr>
    <tr>
      <td><input type="number" id="SPERK_TIME" name="SPERK_TIME" value="%SPERK_TIME%" /></td>
    </tr>
    <tr>
      <td>Release Time(ms)</td>
    </tr>
    <tr>
      <td><input type="number" id="RELEASE_TIME" name="RELEASE_TIME" value="%RELEASE_TIME%" /></td>
    </tr>
  </table>
  <p></p>
  <div class="container">
    <button id="SUBMIT" class="btn1 btn3">Set value</button>
    <p></p>
    <button id="STA_MODE" class="btn1 btn3">Start STA mode</button>
    <p></p>
    <button id="AP_MODE" class="btn1 btn3">Start AP mode</button>
  </div>
  <hr>
</body>

</html>